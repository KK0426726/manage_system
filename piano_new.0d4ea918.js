(window.webpackJsonp = window.webpackJsonp || []).push([[18], {
    126 : function(t, e, n) {
        var i = n(293);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("2842937a", i, !1, {
            sourceMap: !1
        })
    },
    127 : function(t, e, n) {
        var i = n(295);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("78ec4d3a", i, !1, {
            sourceMap: !1
        })
    },
    128 : function(t, e, n) {
        var i = n(298);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("7ff102c5", i, !1, {
            sourceMap: !1
        })
    },
    129 : function(t, e, n) {
        var i = n(300);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("7e516453", i, !1, {
            sourceMap: !1
        })
    },
    130 : function(t, e, n) {
        var i = n(302);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("205d33d3", i, !1, {
            sourceMap: !1
        })
    },
    131 : function(t, e, n) {
        var i = n(304);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("06ca6a45", i, !1, {
            sourceMap: !1
        })
    },
    132 : function(t, e, n) {
        var i = n(306);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("ccd09076", i, !1, {
            sourceMap: !1
        })
    },
    133 : function(t, e, n) {
        var i = n(308);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("6d693766", i, !1, {
            sourceMap: !1
        })
    },
    134 : function(t, e, n) {
        var i = n(310);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("b7df9d1e", i, !1, {
            sourceMap: !1
        })
    },
    135 : function(t, e, n) {
        var i = n(312);
        "string" == typeof i && (i = [[t.i, i, ""]]),
        i.locals && (t.exports = i.locals); (0, n(22).
    default)("4de30bb6", i, !1, {
            sourceMap: !1
        })
    },
    292 : function(t, e, n) {
        "use strict";
        n(126)
    },
    293 : function(t, e, n) { (e = n(21)(!1)).push([t.i, "", ""]),
        t.exports = e
    },
    294 : function(t, e, n) {
        "use strict";
        n(127)
    },
    295 : function(t, e, n) { (e = n(21)(!1)).push([t.i, "", ""]),
        t.exports = e
    },
    296 : function(t, e) {
        t.exports = ""
    },
    297 : function(t, e, n) {
        "use strict";
        n(128)
    },
    298 : function(t, e, n) { (e = n(21)(!1)).push([t.i, '', ""]),
        t.exports = e
    },
    299 : function(t, e, n) {
        "use strict";
        n(129)
    },
    300 : function(t, e, n) { (e = n(21)(!1)).push([t.i, "", ""]),
        t.exports = e
    },
    301 : function(t, e, n) {
        "use strict";
        n(130)
    },
    302 : function(t, e, n) { (e = n(21)(!1)).push([t.i, "", ""]),
        t.exports = e
    },
    303 : function(t, e, n) {
        "use strict";
        n(131)
    },
    304 : function(t, e, n) { (e = n(21)(!1)).push([t.i, '', ""]),
        t.exports = e
    },
    305 : function(t, e, n) {
        "use strict";
        n(132)
    },
    306 : function(t, e, n) { (e = n(21)(!1)).push([t.i, "", ""]),
        t.exports = e
    },
    307 : function(t, e, n) {
        "use strict";
        n(133)
    },
    308 : function(t, e, n) { (e = n(21)(!1)).push([t.i, "", ""]),
        t.exports = e
    },
    309 : function(t, e, n) {
        "use strict";
        n(134)
    },
    310 : function(t, e, n) {
        var i = n(21),
        a = n(59),
        r = n(84);
        e = i(!1);
        var o = a(r);
        e.push([t.i, "", ""]),
        t.exports = e
    },
    311 : function(t, e, n) {
        "use strict";
        n(135)
    },
    312 : function(t, e, n) { (e = n(21)(!1)).push([t.i, "#app,body,html{position:relative;width:100%;height:100%}.xw-footer{display:none}", ""]),
        t.exports = e
    },
    466 : function(t, e, n) {
        "use strict";
        n.r(e);
        var i = function() {
            var t = this.$createElement,
            e = this._self._c || t;
            return e("div", {
                attrs: {
                    id: "app"
                }
            },
            [this.state.hideNavBar ? this._e() : e("", [e("div", {
                staticClass: "header-logo"
            },
            [e("a", {
                attrs: {
                  
                }
            },
            [this._v("fsfds")])])]), e("piano"), e("xw-footer")], 1)
        };
        i._withStripped = !0;
        var a = n(2),
        r = n.n(a),
        o = n(3),
        s = n.n(o),
        c = n(6),
        l = n(0),
        u = n(11),
        p = n.n(u);
        function d(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
                var i = Object.getOwnPropertySymbols(t);
                e && (i = i.filter((function(e) {
                    return Object.getOwnPropertyDescriptor(t, e).enumerable
                }))),
                n.push.apply(n, i)
            }
            return n
        }
        function f(t) {
            for (var e = 1; e < arguments.length; e++) {
                var n = null != arguments[e] ? arguments[e] : {};
                e % 2 ? d(Object(n), !0).forEach((function(e) {
                    p()(t, e, n[e])
                })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n)) : d(Object(n)).forEach((function(e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e))
                }))
            }
            return t
        }
        var h = {
            90 : 28,
            83 : 29,
            88 : 30,
            68 : 31,
            67 : 32,
            86 : 33,
            71 : 34,
            66 : 35,
            72 : 36,
            78 : 37,
            74 : 38,
            77 : 39,
            188 : 40,
            81 : 40,
            76 : 41,
            50 : 41,
            190 : 42,
            87 : 42,
            186 : 43,
            51 : 43,
            191 : 44,
            69 : 44,
            82 : 45,
            53 : 46,
            84 : 47,
            54 : 48,
            89 : 49,
            55 : 50,
            85 : 51,
            73 : 52,
            57 : 53,
            79 : 54,
            48 : 55,
            80 : 56,
            219 : 57,
            187 : 58,
            221 : 59
        },
        v = {
            8 : 73,
            32 : 40,
            37 : 44,
            38 : 42,
            39 : 47,
            40 : 45,
            48 : 68,
            49 : 52,
            50 : 54,
            51 : 56,
            52 : 57,
            53 : 59,
            54 : 61,
            55 : 63,
            56 : 64,
            57 : 66,
            65 : 28,
            66 : 23,
            67 : 20,
            68 : 32,
            69 : 44,
            70 : 33,
            71 : 35,
            72 : 37,
            73 : 52,
            74 : 39,
            75 : 40,
            76 : 42,
            77 : 27,
            78 : 25,
            79 : 54,
            80 : 56,
            81 : 40,
            82 : 45,
            83 : 30,
            84 : 47,
            85 : 51,
            86 : 21,
            87 : 42,
            88 : 18,
            89 : 49,
            90 : 16,
            96 : 49,
            97 : 52,
            98 : 54,
            99 : 56,
            100 : 57,
            101 : 59,
            102 : 61,
            103 : 63,
            104 : 64,
            105 : 66,
            106 : 71,
            107 : 68,
            109 : 73,
            110 : 51,
            111 : 69,
            186 : 44,
            187 : 71,
            188 : 28,
            189 : 69,
            190 : 30,
            191 : 32,
            192 : 51,
            219 : 57,
            220 : 61,
            221 : 59,
            222 : 45
        },
        b = function() {
            return f({},
            v)
        },
        m = function() {
            return f({},
            h)
        },
        g = n(56),
        y = n(54),
        w = function() {
            var t = this,
            e = t.$createElement,
            n = t._self._c || e;
            return n("div", {
                ref: "piano",
                staticClass: "piano",
                style: {
                    top: t.hideNavBar ? "0px": "50px"
                }
            },
            [n("panelsMain"), n("note-bar"), n("keyboard"), t.loading ? n("div", {
                staticClass: "loading"
            },
            [n("div", {
                staticClass: "loading-status"
            },
            [n("xwLoading", {
                attrs: {
                    loading: !0
                }
            },
            [t._v("\n            " + t._s(t.loadmsg ? t.loadmsg: "loading...") + "\n         ")])], 1), n("div", {
                staticClass: "loading-bar",
                style: {
                    width: t.persent + "%"
                }
            })]) : t._e(), t.isunsupported ? n("unsupported", {
                attrs: {
                    reason: ""
                }
            }) : t._e()], 1)
        };
        w._withStripped = !0;
        var x = function() {
            var t = this.$createElement,
            e = this._self._c || t;
            return e("div", {
                ref: "nbCont",
                staticClass: "note-bar",
                style: {
                    height: this.height + "px"
                }
            },
            [e("canvas", {
                ref: "canvas"
            })])
        };
        x._withStripped = !0;
        var k = n(67),
        O = n(68),
        T = n.n(O),
        C = n(64),
        S = new Array(89);
        S[0] = [0, 0];
        var j = new Array(89);
        j[0] = [0, 0];
        for (var M = new Array(89), E = [], L = [], P = "", N = "", D = [0, 2, 0, 0, -2, 0, 2, 0, 0, -2, 0, 0], z = [1, 0, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0], A = ["A", "", "B", "C", "", "D", "", "E", "F", "", "G", ""], I = 0, H = 0; I < 88; I += 1) {
            var _ = I + 1,
            q = I % 12,
            Y = "";
            if (_ <= 15 ? Y = String(Math.floor((27 - _) / 12)) : _ >= 40 && (Y = String(Math.floor((_ - 28) / 12))), 1 === z[q]) {
                var X = "";
                Y && (X = _ < 39 ? '<div class="sub">'.concat(Y, "</div>") : '<div class="sup">'.concat(Y, "</div>"));
                var R = A[q],
                J = _ < 28 ? R: R.toLowerCase();
                N += "<div data-key='".concat(_, "'><span>").concat(_, '</span><div class="pn" >').concat(J).concat(X, "</div></div>"),
                M[_] = "".concat(J).concat(Y),
                S[_] = [40 * H, 40],
                E.push(_),
                L.push(0),
                H += 1
            } else {
                var U = A[q - 1],
                G = _ < 28 ? U: U.toLowerCase(),
                K = L.length - 1;
                P += "<div data-key='".concat(_, "' style=\"left:").concat(40 * K + D[q], 'px;"><span>').concat(_, "</span></div>"),
                M[_] = "#".concat(G).concat(Y),
                S[_] = [40 * K + 40 - 13 + D[q], 26],
                L[L.length - 1] = _
            }
        }
        for (var F = 1; F < 89; F += 1) {
            var W = S[F];
            if (26 === W[1]) j[F] = [W[0], W[1]];
            else {
                var B = S[F - 1],
                Z = B[0] + B[1],
                V = 0;
                if (88 === F) V = W[0] + W[1];
                else V = T()(S[F + 1], 1)[0];
                var Q = (Z + V) / 2,
                $ = V - Z;
                $ < 22 && ($ = 22),
                j[F] = [Q - $ / 2, $]
            }
        }
        var tt = P,
        et = N;
        function nt(t, e) {
            var n = t / 40,
            i = Math.floor(n);
            if (! (e < -200)) {
                if ( - e < 75) return E[i];
                var a = t - 40 * i;
                if (a <= 13) {
                    var r = L[i - 1];
                    if (r) return r
                } else if (a >= 27) {
                    var o = L[i];
                    if (o) return o
                }
                return E[i]
            }
        }
        for (var it = [58, 288, 25, 202, 0, 217, 152, 307, 97, 330, 230, 172], at = 0; at < 12; at += 1) it[at] = "hsla(".concat(it[at], ", 90%, 60%, 0.9)");
        var rt = {
            data: function() {
                return {
                    height: 0,
                    width: 200,
                    scale: 1,
                    left: 0
                }
            },
            mounted: function() {
                Object(k.d)(this),
                this.enable = !0,
                this.tick()
            },
            destroyed: function() {
                this.enable = !1
            },
            methods: {
                tick: function() {
                    this.enable && (!
                    function(t, e, n) {
                        var i = t.getContext("2d"),
                        a = t.width,
                        r = t.height;
                        i.clearRect(0, 0, a, r),
                        k.f.clientWidth > 400 && (i.shadowColor = "#0003", i.shadowBlur = 6, i.shadowOffsetX = 0, i.shadowOffsetY = 0);
                        for (var o = Date.now(), s = C.b.timeline, c = 1; c < s.length; c += 1) {
                            var l = s[c];
                            if (l.length) {
                                var u = j[c],
                                p = o;
                                i.fillStyle = it[c % it.length];
                                for (var d = l.length - 1; d >= 0; d -= 1) {
                                    var f = l[d];
                                    if (1 === f[1]) {
                                        var h = (p - f[0]) / 6,
                                        v = (o - p) / 6,
                                        b = r - v;
                                        if (b < 0) {
                                            p = o,
                                            l.splice(0, d + 2);
                                            break
                                        }
                                        b < h && (h = b),
                                        i.fillRect((u[0] - n) * e, r - v, u[1] * e, -h)
                                    } else if (0 === f[1]) {
                                        p = T()(f, 1)[0]
                                    }
                                }
                            }
                        }
                    } (this.$refs.canvas, this.scale, this.left), requestAnimationFrame(this.tick))
                },
                setSize: function(t, e, n, i) {
                    this.height = e,
                    this.width = t,
                    this.scale = n,
                    this.left = i,
                    this.$refs.canvas.width = t,
                    this.$refs.canvas.height = e
                }
            }
        },
        ot = (n(292), n(52)),
        st = Object(ot.a)(rt, x, [], !1, null, null, null);
        st.options.__file = "src/client/pages/piano/new/comp/note-bar.vue";
        var ct = st.exports,
        lt = function() {
            var t = this.$createElement,
            e = this._self._c || t;
            return e("div", {
                ref: "keyboardConatiner",
                staticClass: "keyboard-c"
            },
            [e("div", {
                ref: "keyboard",
                staticClass: "keyboard",
                class: {
                    hidenum: !this.cacheConf.showKbdNum,
                    hidepname: !this.cacheConf.showPitchName
                },
                style: {
                    transform: "scale(" + this.scale + ") translateX(-" + this.left + "px)"
                }
            },
            [e("div", {
                ref: "blacks",
                staticClass: "black"
            }), e("div", {
                ref: "whites",
                staticClass: "white"
            }), e("div", {
                directives: [{
                    name: "show",
                    rawName: "v-show",
                    value: this.cacheConf.showCenterCText,
                    expression: "cacheConf.showCenterCText"
                }],
                ref: "centerC",
                staticClass: "center-c"
            })])])
        };
        function ut(t, e) {
            var n;
            if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                if (Array.isArray(t) || (n = function(t, e) {
                    if (!t) return;
                    if ("string" == typeof t) return pt(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    "Object" === n && t.constructor && (n = t.constructor.name);
                    if ("Map" === n || "Set" === n) return Array.from(t);
                    if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return pt(t, e)
                } (t)) || e && t && "number" == typeof t.length) {
                    n && (t = n);
                    var i = 0,
                    a = function() {};
                    return {
                        s: a,
                        n: function() {
                            return i >= t.length ? {
                                done: !0
                            }: {
                                done: !1,
                                value: t[i++]
                            }
                        },
                        e: function(t) {
                            throw t
                        },
                        f: a
                    }
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }
            var r, o = !0,
            s = !1;
            return {
                s: function() {
                    n = t[Symbol.iterator]()
                },
                n: function() {
                    var t = n.next();
                    return o = t.done,
                    t
                },
                e: function(t) {
                    s = !0,
                    r = t
                },
                f: function() {
                    try {
                        o || null == n.
                        return || n.
                        return ()
                    } finally {
                        if (s) throw r
                    }
                }
            }
        }
        function pt(t, e) { (null == e || e > t.length) && (e = t.length);
            for (var n = 0,
            i = new Array(e); n < e; n++) i[n] = t[n];
            return i
        }
        lt._withStripped = !0;
        var dt = {
            data: function() {
                return {
                    scale: 1,
                    offsetTop: 0,
                    offsetLeft: 0,
                    left: 0
                }
            },
            computed: {
                cacheConf: function() {
                    return this.$store.state.cacheConf
                }
            },
            mounted: function() {
                this.init(),
                this.initEvent(),
                this.$refs.centerC.innerText = "中央C",
                Object(k.b)(this)
            },
            methods: {
                init: function() {
                    var t = this.$refs,
                    e = t.blacks,
                    n = t.whites;
                    e.innerHTML = tt,
                    n.innerHTML = et;
                    var i = new Array(89);
                    function a(t) {
                        for (var e = 0; e < t.children.length; e++) {
                            var n = t.children[e],
                            a = parseInt(n.getAttribute("data-key"), 10);
                            a && (i[a] = n)
                        }
                    }
                    a(e),
                    a(n),
                    this.keyDoms = i
                },
                initEvent: function() {
                    var t, e = this,
                    n = this.$refs.keyboardConatiner;
                    "ontouchstart" in window && (t = !1, n.addEventListener("touchstart", (function(n) {
                        n.stopPropagation(),
                        n.preventDefault(),
                        t = !0;
                        for (var i = n.touches,
                        a = [], r = 0; r < n.touches.length; r++) {
                            var o = i[r],
                            s = o.pageX - e.offsetLeft,
                            c = o.pageY - e.offsetTop,
                            l = nt(s / e.scale + e.left, c / e.scale);
                            l && a.push(l)
                        }
                        a.length && C.a.down(a, !0, 1)
                    }), !0), document.addEventListener("touchmove", (function(n) {
                        if (t) {
                            n.stopPropagation(),
                            n.preventDefault();
                            for (var i = n.touches,
                            a = [], r = 0; r < n.touches.length; r++) {
                                var o = i[r],
                                s = o.pageX - e.offsetLeft,
                                c = o.pageY - e.offsetTop,
                                l = nt(s / e.scale + e.left, c / e.scale);
                                l && a.push(l)
                            }
                            C.a.down(a, !0, 1)
                        }
                    }), !0), document.addEventListener("touchend", (function(n) {
                        if (t) {
                            n.stopPropagation(),
                            n.preventDefault(),
                            0 === n.touches.length && (t = !1);
                            for (var i = n.touches,
                            a = [], r = 0; r < n.touches.length; r++) {
                                var o = i[r],
                                s = o.pageX - e.offsetLeft,
                                c = o.pageY - e.offsetTop,
                                l = nt(s / e.scale + e.left, c / e.scale);
                                l && a.push(l)
                            }
                            C.a.down(a, !0, 1),
                            0 === i.length && (t = !1)
                        }
                    }), !0)),
                    function() {
                        var t = !1;
                        n.addEventListener("mousedown", (function(n) {
                            n.stopPropagation(),
                            n.preventDefault(),
                            t = !0;
                            var i = n.pageX - e.offsetLeft,
                            a = n.pageY - e.offsetTop,
                            r = nt(i / e.scale + e.left, a / e.scale);
                            r && C.a.down([r], !0, 1)
                        }), !0),
                        document.addEventListener("mousemove", (function(n) {
                            if (t) {
                                n.stopPropagation(),
                                n.preventDefault();
                                var i = n.pageX - e.offsetLeft,
                                a = n.pageY - e.offsetTop,
                                r = nt(i / e.scale + e.left, a / e.scale);
                                C.a.down([r], !0, 1)
                            }
                        }), !0),
                        document.addEventListener("mouseup", (function(n) {
                            if (t) {
                                n.stopPropagation(),
                                n.preventDefault(),
                                t = !1;
                                var i = n.pageX - e.offsetLeft,
                                a = n.pageY - e.offsetTop,
                                r = nt(i / e.scale + e.left, a / e.scale);
                                C.a.up([r], 1)
                            }
                        }), !0)
                    } (),
                    C.a.onDown((function(t) {
                        var n, i = ut(t);
                        try {
                            for (i.s(); ! (n = i.n()).done;) {
                                var a = n.value;
                                e.keyDoms[a].setAttribute("class", "act")
                            }
                        } catch(t) {
                            i.e(t)
                        } finally {
                            i.f()
                        }
                    })),
                    C.a.onUp((function(t) {
                        var n, i = ut(t);
                        try {
                            for (i.s(); ! (n = i.n()).done;) {
                                var a = n.value;
                                e.keyDoms[a].setAttribute("class", "")
                            }
                        } catch(t) {
                            i.e(t)
                        } finally {
                            i.f()
                        }
                    }))
                },
                setSize: function(t, e) {
                    this.scale = t,
                    this.left = e;
                    var n = function(t) {
                        for (var e = t.offsetTop,
                        n = t.offsetLeft,
                        i = t.offsetParent; null != i;) e += i.offsetTop,
                        n += i.offsetLeft,
                        i = i.offsetParent;
                        return {
                            left: n,
                            top: e
                        }
                    } (this.$refs.keyboard);
                    this.offsetTop = n.top + 200,
                    this.offsetLeft = n.left
                }
            }
        },
        ft = (n(294), Object(ot.a)(dt, lt, [], !1, null, null, null));
        ft.options.__file = "";
        var ht = ft.exports,
        vt = function() {
            var t = this,
            e = t.$createElement,
            n = t._self._c || e;
            return n("div", {
                staticClass: "setting-panel",
                style: {
                    height: t.height + "px"
                }
            },
            [n("div", {
                staticClass: "rit-btn"
            }), n("menu", {
                staticClass: "slide-menu"
            },
            t._l(t.manus, (function(e, i) {
                return n("a", {
                    key: i,
                    class: t.select === i ? "active": "",
                    attrs: {
                        tabindex: "0",
                        href: 'mainpage.php'
                    },
                    on: {
                        click: function(e) {
                            return t.setSelect(i)
                        }
                    }
                },
                [e[1] ? n("i", {
                    staticClass: "iconfont",
                    class: e[1]
                }) : t._e(), n("span", {
                    domProps: {
                        textContent: t._s(e[0])
                    }
                })])
            })), 0), n("section", {
                staticClass: "st-cont"
            },
            [0 === t.select ? n("visit") : t._e(), 1 === t.select ? n("settings") : t._e(), 2 === t.select ? n("pc-keyboard") : t._e(), 3 === t.select ? n("midiFile") : t._e(), 4 === t.select ? n("pinlun") : t._e()], 1)])
        };
        vt._withStripped = !0;
        var bt = function() {
            var t = this,
            e = t.$createElement,
            n = t._self._c || e;
            return n("div", {
                staticClass: "visit-ct"
            },
            [n("div", {
                staticClass: "old-entry"
            },
            
            
            [n("div", {
                staticClass: "pn-logo"
            },
            [n("img", {
                attrs: {
                    src: t.keyboardImage,
                    alt: ""
                }
            })]), t._m(0)]), n("div", {
                staticClass: "tips-wrapper"
            },
            [n("div", {
                ref: "tipsDom",
                domProps: {
                    innerHTML: t._s(t.tips[t.tipIdx])
                }
            })]), n("div", {
                staticClass: "doc-div",
                domProps: {
                    innerHTML: t._s(t.mainDoc)
                }
            })])
        };
        bt._withStripped = !0;
        var mt = n(296),
        gt = n.n(mt),
        yt = {
            components: {},
            data: function() {
                return {
                    keyboardImage: gt.a,
                    tips: [""],
                    tipIdx: 0,
                    sinterval: 0
                }
            },
            computed: {
                state: function() {
                    return this.$store.state
                },
                mainDoc: function() {
                    return this.$store.state.mainDoc
                }
            },
            mounted: function() {
                var t = this;
                this.sinterval = setInterval((function() {
                    window.innerWidth <= 360 ? t.slideTips2() : t.slideTips()
                }), 5e3)
            },
            destroyed: function() {
                clearInterval(this.sinterval)
            },
            methods: {
                slideTips: function() {
                    var t = this;
                    this.$refs.tipsDom.setAttribute("class", "hidden"),
                    setTimeout((function() {
                        t.tipIdx = (t.tipIdx + 1) % t.tips.length,
                        t.$refs.tipsDom.setAttribute("class", "")
                    }), 300)
                },
                slideTips2: function() {
                    this.tipIdx2 >= 0 || (this.tipIdx2 = this.tipIdx),
                    this.tipIdx2 = (this.tipIdx2 + 1) % this.tips.length,
                    this.$refs.tipsDom.innerHTML = this.tips[this.tipIdx2]
                }
            }
        },
        wt = (n(297), Object(ot.a)(yt, bt, [function() {
            var t = this.$createElement,
            e = this._self._c || t;
            return e("div", {
                staticClass: "pn-info"
            },
            [e("h1", [this._v("")]), e("p", [this._v("")])])
        }], !1, null, null, null));
        wt.options.__file = "";
        var xt = wt.exports,
        kt = function() {
            var t = this,
            e = t.$createElement,
            n = t._self._c || e;
            return n("div", [n("div", {
                ref: "keyboardCT",
                staticClass: "pc-kbd-ct"
            },
            t._l(t.kbdMain, (function(e, i) {
                return n("div", {
                    key: i,
                    staticClass: "pc-kbd-row"
                },
                t._l(e, (function(e, i) {
                     n("div", {
                        key: i,
                        class: {
                            disable: 1 == e.d,
                            selec: t.editState && e.c == t.selectedKey
                        },
                        style: {
                            width: e.w ? e.w + "px": "",
                            height: e.h ? e.h + "px": "",
                            marginLeft: e.m ? e.m + "px": ""
                        },
                        attrs: {
                            name: e.c,
                            disable: 1 == e.d
                        }
                    },
                    [n("div", {
                        staticClass: "key-name"
                    },
                    [t._v("\n               " + t._s(e.n) + "\n            ")]), 1 !== e.d ? n("div", {
                        staticClass: "key-rep"
                    },
                    [t._v("\n               " + t._s(t.getEqualName(e.c)) + "\n            ")]) : t._e()])
                })), 0)
            })), 0), n("div", {
                staticClass: "pc-kbd-set"
            },
            [n("div", {
                staticClass: "row"
            },
            [n("span", [t._v("您可以 ")]), n("xw-button", {
                attrs: {
                    type: "primary",
                    tabindex: "0"
                },
                on: {
                    click: function(e) {
                        t.editState = !t.editState
                    }
                }
            },
            [t._v("\n            " + t._s(t.editState ? "退出编辑": "编辑") + "\n         ")]), n("span", [t._v(" 上面的映射")])], 1), t.editState ? n("div", {
                staticClass: "row edit-container"
            },
            [n("p", [t._v("PS: 鼠标或键盘在上方选中一个电脑键之后，然后用鼠标在下方的钢琴键盘中按下对应的键，即可进行映射和绑定。")]), 0 === t.selectedKey ? n("div", [t._v("\n            请用鼠标或者电脑键盘按下一个键\n         ")]) : n("div", [n("span", [t._v("已选中 ")]), n("div", {
                staticClass: "select-key",
                style: {
                    width: t.getPcKeyWidth(t.selectedKey)
                }
            },
            [n("div", {
                staticClass: "key-name"
            },
            [t._v("\n                  " + t._s(t.getPcKeyName(t.selectedKey)) + "\n               ")])]), n("span", [t._v("键，此键当前")]), n("span", [t._v(t._s(t.getName(t.selectedKey) ? "已经设置为钢琴第 " + t.getKeyIndex(t.selectedKey) + " 个键，音名：" + t.getName(t.selectedKey) : "未绑定钢琴键"))])]), n("div", {
                staticClass: "btn-group"
            },
            [n("span", [t._v("全部")]), n("xw-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: t.degradeYin
                }
            },
            [t._v("\n               降低 (降调)\n            ")]), n("span", [t._v("半个音高，")]), n("span", [t._v("全部")]), n("xw-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: t.upgradeYin
                }
            },
            [t._v("\n               升高 (升调)\n            ")]), n("span", [t._v("半个音高，")]), n("span", [t._v("这里可以")]), n("xw-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: function(e) {
                        return t.clearConfig()
                    }
                }
            },
            [t._v("\n               清空\n            ")]), n("span", [t._v("上面的配置，")]), n("span", [t._v("还可以")]), n("xw-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: function(e) {
                        return t.restoreConfig()
                    }
                }
            },
            [t._v("\n               还原\n            ")]), n("span", [t._v("成默认配置(C大调纯白键版)，")]), n("span", [t._v("或者是")]), n("xw-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: function(e) {
                        return t.restoreConfig2()
                    }
                }
            },
            [t._v("\n               还原\n            ")]), n("span", [t._v("成以前版本的默认配置(C大调包括黑键版)。")])], 1)]) : t._e(), n("div", {
                staticClass: "row"
            },
            [n("pcKeyboardSave")], 1), n("div", {
                staticClass: "row"
            },
            [n("pcKeyboardSaveSys")], 1), n("div", {
                staticClass: "row-title"
            },
            [t._v("\n         FAQ :\n      ")]), n("faq", {
                staticClass: "row",
                attrs: {
                    question: "有些玩家在吐槽专区问到为什么不能按下黑键？",
                    answer: "\n             1. 请在上方找到 系统默认键盘配置方案-> 黑键方案 -> 点击 `使用`。\n             2. 在上方找到一个编辑按钮，点击 `编辑` ，在展开的配置界面上进行个性化的配置。\n             "
                }
            }), n("faq", {
                staticClass: "row",
                attrs: {
                    question: "为什么我的电脑键盘有的键不能多个同时按下去？",
                    answer: "键盘生产商在生产键盘时做了限制。有些键盘生产商为了节省开支，会把许多键放在一条线路上，这样相同区域的多个键被同时按下时，只会有一个键起作用。"
                }
            })], 1)])
        };
        kt._withStripped = !0;
        var Ot = n(55),
        Tt = n(53),
        Ct = function() {
            var t = this,
            e = t.$createElement,
            n = t._self._c || e;
            return n("div", {
                staticClass: "pc-keyboard-save"
            },
            [n("div", {
                staticClass: "t-save-tips"
            },
            [n("span", [t._v("或者用 ")]), n("input", {
                directives: [{
                    name: "model",
                    rawName: "v-model",
                    value: t.inputName,
                    expression: "inputName"
                }],
                staticClass: "xw-input",
                attrs: {
                    id: "",
                    type: "text",
                    maxlength: "30",
                    placeholder: "请输入一个存档名称"
                },
                domProps: {
                    value: t.inputName
                },
                on: {
                    focus: t.inputFocus,
                    blur: t.inputBlur,
                    input: function(e) {
                        e.target.composing || (t.inputName = e.target.value)
                    }
                }
            }), n("span", [t._v(" 作为名称")]), n("xw-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: function(e) {
                        return t.save()
                    }
                }
            },
            [t._v("\n         保存\n      ")]), n("span", [t._v("至下方的本地存档，")]), n("span", [t._v("也可以")]), n("xw-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: function(e) {
                        return t.saveFile()
                    }
                }
            },
            [t._v("\n         另存为\n      ")]), n("span", [t._v("本地.xkmp文件，")]), n("span", [t._v("还可以")]), n("xw-button", {
                attrs: {
                    type: "primary"
                },
                on: {
                    click: function(e) {
                        return t.chooseFile()
                    }
                }
            },
            [t._v("\n         读取\n      ")]), n("span", [t._v("本地保存的.xkmp文件。")])], 1), n("h4", {
                staticClass: "title"
            },
            [t._v("\n      " + t._s(0 === t.list.length ? "本地暂无配置存档": "您的配置存档:") + "\n   ")]), n("transition-group", {
                staticClass: "save-list",
                attrs: {
                    name: "save-list",
                    tag: "div"
                }
            },
            t._l(t.list, (function(e, i) {
                return n("div", {
                    key: e.key,
                    staticClass: "save-list-item"
                },
                [n("div", {
                    staticClass: "cont"
                },
                [n("div", {
                    staticClass: "name"
                },
                [t._v("\n               " + t._s(e.name) + "\n            ")]), n("div", {
                    staticClass: "time"
                },
                [t._v("\n               保存于：" + t._s(t.howLong(e.time)) + "\n            ")]), n("div", {
                    staticClass: "btns"
                },
                [n("xw-button", {
                    attrs: {
                        type: "danger"
                    },
                    on: {
                        click: function(e) {
                            return t.remove(i)
                        }
                    }
                },
                [t._v("\n                  删除\n               ")]), n("xw-button", {
                    on: {
                        click: function(e) {
                            return t.use(i)
                        }
                    }
                },
                [t._v("\n                  使用\n               ")])], 1)])])
            })), 0)], 1)
        };
        Ct._withStripped = !0;
        var St = n(77),
        jt = n(60);
        function Mt(t) {
            var e = null;
            if ("".concat(t).replace(/钢琴键盘映射文件:\n(.*)/g, (function(t, n) {
                return e = n,
                ""
            })), e) try {
                var n = JSON.parse(e),
                i = {};
                for (var a in n) {
                    var r = parseInt(a, 10);
                    r && (i[r] = n[a])
                }
                return i
            } catch(t) {
                throw new Error("文件解析失败，文件格式可能有误")
            }
            throw new Error("文件为空或文件格式有误")
        }
        var Et = {
            components: {
                xwButton: Ot.a
            },
            data: function() {
                return {
                    inputName: "未命名的存档",
                    list: [],
                    listKey: 1
                }
            },
            mounted: function() {
                var t = this,
                e = this.loadLocalList();
                e.forEach((function(e) {
                    e.key = t.listKey++
                })),
                this.list = e
            },
            methods: {
                howLong: jt.b,
                randomKey: function() {
                    return "".concat(Date.now())
                },
                remove: function(t) {
                    confirm("确认要删除吗？") && (this.list.splice(t, 1), this.saveToLocal(this.list))
                },
                use: function(t) {
                    var e = this.list[t];
                    if (e) {
                        var n = e.data;
                        try {
                            var i = JSON.parse(n),
                            a = {};
                            for (var r in i) {
                                var o = parseInt(r, 10);
                                o && (a[o] = i[r])
                            }
                            this.$store.state.cacheConf.pckey2key = a,
                            this.inputName = e.name,
                            window._paq && window._paq.push(["trackEvent", "piano", "点击", "使用本地存档"]),
                            Tt.a.success("应用成功")
                        } catch(t) {}
                    }
                },
                loadLocalList: function() {
                    var t = window.localStorage.getItem("kmap");
                    try {
                        if (t) {
                            var e = JSON.parse(t);
                            if (Array.isArray(e)) return e
                        }
                    } catch(t) {}
                    return []
                },
                saveToLocal: function(t) {
                    var e = JSON.stringify(t);
                    window.localStorage.setItem("kmap", e)
                },
                getMapData: function() {
                    var t = this.$store.state.cacheConf.pckey2key,
                    e = {};
                    for (var n in t) {
                        var i = parseInt(n, 10);
                        i && (e[i] = t[n])
                    }
                    return e
                },
                save: function() {
                    var t = this.getMapData(),
                    e = {
                        key: this.randomKey(),
                        name: this.inputName,
                        time: Date.now(),
                        data: JSON.stringify(t)
                    };
                    this.list.unshift(e),
                    this.saveToLocal(this.list),
                    window._paq && window._paq.push(["trackEvent", "piano", "点击", "保存键盘存档"])
                },
                saveFile: function() {
                    var t = function(t) {
                         "".concat(JSON.stringify(t))
                    } (this.getMapData()),
                    e = this.inputName || "未命名的钢琴映射文件";
                    window._paq && window._paq.push(["trackEvent", "piano", "点击", "另存为本地.xkmp"]),
                    function(t, e) {
                        var n = document.createElement("a");
                        n.download = e;
                        var i = new Blob([t]);
                        n.href = URL.createObjectURL(i),
                        document.body.appendChild(n),
                        n.click(),
                        document.body.removeChild(n)
                    } (t, "".concat(e, ".xkmp"))
                },
                chooseFile: function() {
                    var t, e, n, i = this;
                    t = ".xkmp",
                    e = function(t) {
                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                        try {
                            var n = Mt(t),
                            a = {
                                key: i.randomKey(),
                                name: e,
                                time: Date.now(),
                                data: JSON.stringify(n)
                            };
                            i.list.unshift(a),
                            i.saveToLocal(i.list),
                            window._paq && window._paq.push(["trackEvent", "piano", "点击", "读取本地.xkmp"])
                        } catch(t) {
                            alert(t)
                        }
                    },
                    (n = document.createElement("input")).type = "file",
                    n.accept = t,
                    n.onchange = function() {
                        var t = n.files;
                        if (t.length) {
                            var i = t[0],
                            a = new FileReader;
                            a.onload = function() {
                                e(a.result, i.name)
                            },
                            a.readAsText(i)
                        }
                    },
                    n.click()
                },
                inputFocus: function() {
                    Object(St.g)()
                },
                inputBlur: function() {
                    Object(St.f)()
                }
            }
        },
        Lt = (n(299), Object(ot.a)(Et, Ct, [], !1, null, null, null));
        Lt.options.__file = "src/client/pages/piano/new/comp/panels/pc-keyboard-save.vue";
        var Pt = Lt.exports,
        Nt = function() {
            var t = this,
            e = t.$createElement,
            n = t._self._c || e;
            return n("div", {
                staticClass: "pc-keyboard-save"
            },
            [n("h4", {
                staticClass: "title"
            },
            [t._v("\n        系统默认键盘配置:\n    ")]), t.list.length > 0 ? n("div", [n("transition-group", {
                staticClass: "save-list",
                attrs: {
                    name: "save-list",
                    tag: "div"
                }
            },
            t._l(t.list, (function(e, i) {
                return n("div", {
                    key: e.key,
                    staticClass: "save-list-item"
                },
                [n("div", {
                    staticClass: "cont"
                },
                [n("div", {
                    staticClass: "name"
                },
                [t._v("\n                        " + t._s(e.name) + "\n                    ")]), n("div", {
                    staticClass: "time"
                },
                [t._v("\n                        " + t._s(e.tips) + "\n                    ")]), n("div", {
                    staticClass: "btns"
                },
                [n("xw-button", {
                    on: {
                        click: function(e) {
                            return t.use(i)
                        }
                    }
                },
                [t._v("\n                            使用\n                        ")])], 1)])])
            })), 0)], 1) : t._e()])
        };
        Nt._withStripped = !0;
        var Dt = {
            components: {
                xwButton: Ot.a
            },
            data: function() {
                return {
                    list: []
                }
            },
            mounted: function() {
                this.list.push({
                    key: "1",
                    name: "不带黑键方案",
                    tips: "C大调纯白键的方案，带小数字键盘",
                    data: JSON.stringify(b())
                }),
                this.list.push({
                    key: "2",
                    name: "黑键方案",
                    tips: "C大调, 能按到黑键的方案",
                    data: JSON.stringify(m())
                })
            },
            methods: {
                use: function(t) {
                    var e = this.list[t];
                    if (e) {
                        var n = e.data;
                        try {
                            var i = JSON.parse(n),
                            a = {};
                            for (var r in i) {
                                var o = parseInt(r, 10);
                                o && (a[o] = i[r])
                            }
                            this.$store.state.cacheConf.pckey2key = a,
                            this.inputName = e.name,
                            window._paq && window._paq.push(["trackEvent", "piano", "点击", "使用系统默认配置".concat(t)]),
                            Tt.a.success("应用成功")
                        } catch(t) {}
                    }
                }
            }
        },
        zt = (n(301), Object(ot.a)(Dt, Nt, [], !1, null, null, null));
        zt.options.__file = "src/client/pages/piano/new/comp/panels/pc-keyboard-save-sys.vue";
        var At = zt.exports,
        It = function() {
            var t = this.$createElement,
            e = this._self._c || t;
            return e("div", {
                staticClass: "faq-item"
            },
            [e("header", [this._v(this._s(this.question))]), e("p", [this._v(this._s(this.answer))])])
        };
        It._withStripped = !0;
        var Ht = {
            props: {
                question: {
                    type: String,
                default:
                    ""
                },
                answer: {
                    type: String,
                default:
                    ""
                }
            },
            data: function() {
                return {}
            }
        },
        _t = (n(303), Object(ot.a)(Ht, It, [], !1, null, null, null));
        _t.options.__file = "src/client/pages/piano/new/comp/comp/faq.vue";
        var qt = _t.exports,
        Yt = new Array(256),
        Xt = new Array(256),
        Rt = Object(St.a)();
        Rt.forEach((function(t) {
            t.forEach((function(t) {
                1 !== t.d && (Xt[t.c] = t)
            }))
        }));
        var Jt = {
            components: {
                xwButton: Ot.a,
                pcKeyboardSave: Pt,
                pcKeyboardSaveSys: At,
                faq: qt
            },
            data: function() {
                return {
                    kbdMain: Rt,
                    editState: !1,
                    selectedKey: 0
                }
            },
            computed: {},
            mounted: function() {
                this.bindToArray(),
                Object(St.e)(this.onEvent),
                C.a.onDown(this.onKeypressDown)
            },
            destroyed: function() {
                Object(St.d)(this.onEvent),
                C.a.offDown(this.onKeypressDown)
            },
            methods: {
                onKeypressDown: function(t, e) {
                    if (1 === e && this.editState && 0 !== this.selectedKey && t.length) {
                        var n = T()(t, 1)[0],
                        i = this.$store.state.cacheConf.pckey2key;
                        this.$set(i, this.selectedKey, n),
                        window._paq && window._paq.push(["trackEvent", "piano", "点击", ""])
                    }
                },
                getEqualName: function(t) {
                    var e = this.$store.state.cacheConf.pckey2key[t];
                    return e && M[e] ? "♩ = ".concat(M[e]) : ""
                },
                getName: function(t) {
                    var e = this.$store.state.cacheConf.pckey2key[t];
                    return e && M[e] ? M[e] : ""
                },
                getKeyIndex: function(t) {
                    return this.$store.state.cacheConf.pckey2key[t]
                },
                getPcKeyName: function(t) {
                    return Xt[t] ? Xt[t].n: ""
                },
                getPcKeyWidth: function(t) {
                    return Xt[t] && Xt[t].w ? "".concat(Xt[t].w, "px") : ""
                },
                bindDomClickEvent: function(t, e) {
                    var n = !1;
                    function i(t) {
                        n && (n = !1, Object(St.c)(e)),
                        t.stopPropagation(),
                        t.preventDefault()
                    }
                    t.addEventListener("mousedown", (function(t) {
                        n = !0,
                        Object(St.b)(e),
                        t.stopPropagation(),
                        t.preventDefault()
                    }), !0),
                    t.addEventListener("mouseleave", i, !0),
                    t.addEventListener("mouseup", i, !0)
                },
                bindCommentEvent: function() {},
                bindToArray: function() {
                    for (var t = this.$refs.keyboardCT,
                    e = 0; e < t.children.length; e++) for (var n = t.children[e], i = 0; i < n.children.length; i++) {
                        var a = n.children[i];
                        if (!a.getAttribute("disable")) {
                            var r = a.getAttribute("name"),
                            o = parseInt(r, 10);
                            Yt[o] = a,
                            this.bindDomClickEvent(a, o)
                        }
                    }
                },
                onEvent: function(t, e) {
                    var n = Yt[e];
                    n && (t ? (n.classList.add("d"), this.editState && (this.selectedKey = e)) : n.classList.remove("d"))
                },
                upgradeYin: function() {
                    var t = this.$store.state.cacheConf.pckey2key;
                    for (var e in t) {
                        var n = parseInt(e, 10);
                        n && (t[n] = t[n] + 1)
                    }
                    window._paq && window._paq.push(["trackEvent", "piano", "点击", "升调"]),
                    Tt.a.success("升调成功")
                },
                degradeYin: function() {
                    var t = this.$store.state.cacheConf.pckey2key;
                    for (var e in t) {
                        var n = parseInt(e, 10);
                        n && (t[n] = t[n] - 1)
                    }
                    window._paq && window._paq.push(["trackEvent", "piano", "点击", "降调"]),
                    Tt.a.success("升调成功")
                },
                clearConfig: function() {
                    this.$store.state.cacheConf.pckey2key = {},
                    window._paq && window._paq.push(["trackEvent", "piano", "点击", "清除配置"]),
                    Tt.a.success("清除成功")
                },
                restoreConfig: function() {
                    this.$store.state.cacheConf.pckey2key = b(),
                    window._paq && window._paq.push(["trackEvent", "piano", "点击", "还原默认配置"]),
                    Tt.a.success("还原成功")
                },
                restoreConfig2: function() {
                    this.$store.state.cacheConf.pckey2key = m(),
                    window._paq && window._paq.push(["trackEvent", "piano", "点击", "还原成老配置"]),
                    Tt.a.success("还原成功")
                }
            }
        },
        Ut = (n(305), Object(ot.a)(Jt, kt, [], !1, null, null, null));
        Ut.options.__file = "";
        var Gt = Ut.exports,
        Kt = n(78),
        Ft = {
            components: {
                visit: xt,
                settings: function() {
                    return Promise.all([n.e(0), n.e(15)]).then(n.bind(null, 475))
                },
                pcKeyboard: Gt,
                pinlun: function() {
                    return Promise.all([n.e(0), n.e(14)]).then(n.bind(null, 500))
                },
                midiFile: function() {
                    return Promise.all([n.e(0), n.e(13)]).then(n.bind(null, 483))
                }
            },
            data: function() {
                return {
                    height: 1e3,
                    width: 200,
                    scale: 2,
                    select: 3,
                    manus: [["点击此处回到主系统"], [""], [""], [""], [""]]
                }
            },
            computed: {
                state: function() {
                    return this.$store.state
                }
            },
            mounted: function() {
                Object(k.c)(this),
                Object(Kt.d)(this.state.cacheConf.autoSustainTime / 1e3)
            },
            methods: {
                setSelect: function(t) {
                    this.select !== t && (this.select = t, window._paq && window._paq.push(["trackEvent", "piano", "", ":".concat(this.manus[t][0])]))
                },
                setSize: function(t, e, n) {
                    this.height = e,
                    this.width = t,
                    this.scale = n
                }
            }
        },
        Wt = (n(307), Object(ot.a)(Ft, vt, [], !1, null, null, null));
        Wt.options.__file = "src/client/pages/piano/new/comp/panels-main.vue";
        var Bt = Wt.exports,
        Zt = n(63);
        function Vt() {
            var t = l.a.isServer ? l.a.action.req.headers["user-agent"] : window.navigator.userAgent;
            return !! /MSIE 8\.0/.test(t) || ( !! /MSIE 9\.0/.test(t) || ( !! /MSIE 10\.0/.test(t) || !(!/rv:11\.0/.test(t) || !/\(Windows NT/.test(t))))
        }
        var Qt = {
            components: {
                noteBar: ct,
                keyboard: ht,
                panelsMain: Bt,
                xwLoading: Zt.a,
                unsupported: function() {
                    return n.e(16).then(n.bind(null, 496))
                }
            },
            data: function() {
                return {
                    loading: !1,
                    loadmsg: "",
                    persent: 0,
                    isunsupported: Vt()
                }
            },
            computed: {
                hideNavBar: function() {
                    return this.$store.state.hideNavBar
                }
            },
            mounted: function() {
                this.$refs.piano.style.bottom = "0",
                Object(k.e)(this),
                this.init(),
                this.initSize()
            },
            destroyed: function() {
                Object(St.g)()
            },
            methods: {
                initSize: function() {
                    var t = window.innerWidth;
                    if (t > 0) {
                        if (t < 415) this.$store.state.cacheConf.scale = 20;
                        else if (t < 600) this.$store.state.cacheConf.scale = 15;
                        else {
                            if (! (t < 800)) return;
                            this.$store.state.cacheConf.scale = 10
                        }
                        this.$nextTick(k.a)
                    }
                },
                init: function() {
                    this.loadJS().then((function() {})).
                    catch((function(t) {
                        console.error(t)
                    })),
                    Object(St.f)(this.$store.state.cacheConf)
                },
                loadJS: function() {
                    var t = this;
                    return s()(r.a.mark((function e() {
                        return r.a.wrap((function(e) {
                            for (;;) switch (e.prev = e.next) {
                            case 0:
                                return t.loading = !0,
                                e.prev = 1,
                                e.next = 4,
                                Object(Kt.a)({
                                    soundfontUrl: "https://cdn.jsdelivr.net/gh/gleitz/midi-js-soundfonts@gh-pages/MusyngKite",
                                    instrument: "acoustic_grand_piano",
                                    onProgress: function(e, n) {
                                        t.persent = "mp3" === e ? n / 1434960 * 100 : n / 1707887 * 100
                                    }
                                });
                            case 4:
                                return t.loadmsg = "加载音频中...",
                                e.next = 7,
                                Object(Kt.e)();
                            case 7:
                                t.loadmsg = "资源加载成功",
                                e.next = 14;
                                break;
                            case 10:
                                e.prev = 10,
                                e.t0 = e.
                                catch(1),
                                t.loadmsg = "资源加载失败",
                                console.log(e.t0);
                            case 14:
                                setTimeout((function() {
                                    t.loading = !1
                                }), 1e3);
                            case 15:
                            case "end":
                                return e.stop()
                            }
                        }), e, null, [[1, 10]])
                    })))()
                }
            }
        },
        $t = (n(309), Object(ot.a)(Qt, w, [], !1, null, null, null));
        $t.options.__file = "src/client/pages/piano/new/comp/piano.vue";
        var te = $t.exports,
        ee = (n(57), n(76), {
            createStore: function() {
                return new c.b.Store({
                    state: {
                        mainDoc: "",
                        hideNavBar: !1,
                        showOldEntry: !0,
                        cacheConf: {
                            showKbdNum: !1,
                            showCenterCText: !0,
                            showPitchName: !0,
                            holdPitchBar: !1,
                            autoSustainTime: 500,
                            shiftSharp: !0,
                            tabSustain: !0,
                            scale: 1,
                            barScale: 1,
                            left: .5,
                            pckey2key: b()
                        }
                    },
                    mutations: {
                        setData: function(t, e) {
                            t.mainDoc = e && e.doc
                        },
                        setDefaultParams: function(t) {
                            "1" === l.a.query.hideNavBar && (t.hideNavBar = !0, t.showOldEntry = !1),
                            "1" === l.a.query.hideCCT && (t.cacheConf.showCenterCText = !1),
                            "1" === l.a.query.hidePN && (t.cacheConf.showPitchName = !1)
                        }
                    },
                    actions: {
                        setDefaultParams: function(t) {
                            return s()(r.a.mark((function e() {
                                return r.a.wrap((function(e) {
                                    for (;;) switch (e.prev = e.next) {
                                    case 0:
                                        (0, t.commit)("setDefaultParams");
                                    case 2:
                                    case "end":
                                        return e.stop()
                                    }
                                }), e)
                            })))()
                        }
                    }
                })
            },
            fetchData: function(t) {
                return s()(r.a.mark((function e() {
                    var n;
                    return r.a.wrap((function(e) {
                        for (;;) switch (e.prev = e.next) {
                        case 0:
                            return n = t.store,
                            e.next = 3,
                            n.dispatch("setDefaultParams");
                        case 3:
                        case "end":
                            return e.stop()
                        }
                    }), e)
                })))()
            },
            name: "App",
            components: {
                xwHeader: g.a,
                xwFooter: y.a,
                piano: te
            },
            data: function() {
                return {}
            },
            computed: {
                state: function() {
                    return this.$store.state
                }
            },
            mounted: function() {},
            methods: {}
        }),
        ne = (n(311), Object(ot.a)(ee, i, [], !1, null, null, null));
        ne.options.__file = "src/client/pages/piano/new/app.vue";
        e.
    default = ne.exports
    },
    64 : function(t, e, n) {
        "use strict";
        n.d(e, "a", (function() {
            return h
        })),
        n.d(e, "b", (function() {
            return v
        }));
        var i = n(61),
        a = n.n(i),
        r = n(62),
        o = n.n(r);
        function s(t, e) {
            var n;
            if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                if (Array.isArray(t) || (n = function(t, e) {
                    if (!t) return;
                    if ("string" == typeof t) return c(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    "Object" === n && t.constructor && (n = t.constructor.name);
                    if ("Map" === n || "Set" === n) return Array.from(t);
                    if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return c(t, e)
                } (t)) || e && t && "number" == typeof t.length) {
                    n && (t = n);
                    var i = 0,
                    a = function() {};
                    return {
                        s: a,
                        n: function() {
                            return i >= t.length ? {
                                done: !0
                            }: {
                                done: !1,
                                value: t[i++]
                            }
                        },
                        e: function(t) {
                            throw t
                        },
                        f: a
                    }
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }
            var r, o = !0,
            s = !1;
            return {
                s: function() {
                    n = t[Symbol.iterator]()
                },
                n: function() {
                    var t = n.next();
                    return o = t.done,
                    t
                },
                e: function(t) {
                    s = !0,
                    r = t
                },
                f: function() {
                    try {
                        o || null == n.
                        return || n.
                        return ()
                    } finally {
                        if (s) throw r
                    }
                }
            }
        }
        function c(t, e) { (null == e || e > t.length) && (e = t.length);
            for (var n = 0,
            i = new Array(e); n < e; n++) i[n] = t[n];
            return i
        }
        var l = function() {
            function t() {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
                a()(this, t),
                this.sustaining = !1,
                this.onDownCallbackList = [],
                this.onUpCallbackList = [],
                this.pressList = new Array(89).fill(0),
                this.tempPressList = new Array(89).fill(0),
                this.sustainPreUpList = new Array(89).fill(0),
                this.sustainPreUpByList = new Array(89).fill(0),
                this.sustaining = !1,
                this.onDownCallbackList = [],
                this.onUpCallbackList = [],
                e.onDown && this.onDown(e.onDown),
                e.onUp && this.onUp(e.onUp)
            }
            return o()(t, [{
                key: "down",
                value: function() {
                    var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1],
                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    i = this.pressList,
                    a = this.tempPressList,
                    r = [],
                    o = [];
                    if (e) {
                        a.fill(0);
                        var c, l = s(t);
                        try {
                            for (l.s(); ! (c = l.n()).done;) {
                                var u = c.value;
                                u > 0 && u < 89 && (a[u] = 1)
                            }
                        } catch(t) {
                            l.e(t)
                        } finally {
                            l.f()
                        }
                        for (var p = 1; p < 89; p++) a[p] ? 0 === i[p] && (i[p] = 1, r.push(p)) : 1 === i[p] && (i[p] = 0, o.push(p))
                    } else {
                        var d, f = s(t);
                        try {
                            for (f.s(); ! (d = f.n()).done;) {
                                var h = d.value;
                                h > 0 && h < 89 && 0 === i[h] && (r.push(h), i[h] = 1)
                            }
                        } catch(t) {
                            f.e(t)
                        } finally {
                            f.f()
                        }
                    }
                    if (this.sustaining) {
                        for (var v = 0; v < o.length; v += 1) this.sustainPreUpList[o[v]] = 1,
                        this.sustainPreUpByList[o[v]] = n;
                        for (var b = 0; b < r.length; b += 1) this.sustainPreUpList[r[b]] = 0
                    } else o.length && this._do_up(o, n);
                    r.length && this._do_down(r, n)
                }
            },
            {
                key: "up",
                value: function() {
                    var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                    i = this.pressList,
                    a = [],
                    r = s(e);
                    try {
                        for (r.s(); ! (t = r.n()).done;) {
                            var o = t.value;
                            o > 0 && o < 89 && 1 === i[o] && (a.push(o), i[o] = 0)
                        }
                    } catch(t) {
                        r.e(t)
                    } finally {
                        r.f()
                    }
                    if (this.sustaining) for (var c = 0; c < a.length; c += 1) this.sustainPreUpList[a[c]] = 1,
                    this.sustainPreUpByList[a[c]] = n;
                    else a.length && this._do_up(a, n)
                }
            },
            {
                key: "sustainOn",
                value: function() {
                    this.sustainOff(),
                    this.sustaining = !0
                }
            },
            {
                key: "sustainOff",
                value: function() {
                    this.sustaining = !1;
                    for (var t = [], e = 0; e < this.sustainPreUpList.length; e += 1) 1 === this.sustainPreUpList[e] && (t.push(e), this.sustainPreUpList[e] = 0);
                    t.length && this._do_up(t, 0)
                }
            },
            {
                key: "upAll",
                value: function() {
                    for (var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, e = this.pressList, n = [], i = 1; i < 89; i++) 1 === e[i] && (e[i] = 0, n.push(i));
                    n.length && this._do_up(n, t)
                }
            },
            {
                key: "_do_down",
                value: function() {
                    var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    n = arguments.length > 1 ? arguments[1] : void 0,
                    i = s(this.onDownCallbackList);
                    try {
                        for (i.s(); ! (t = i.n()).done;) {
                            var a = t.value;
                            try {
                                a(e, n)
                            } catch(t) {
                                console.error(t)
                            }
                        }
                    } catch(t) {
                        i.e(t)
                    } finally {
                        i.f()
                    }
                }
            },
            {
                key: "_do_up",
                value: function() {
                    var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : [],
                    n = arguments.length > 1 ? arguments[1] : void 0,
                    i = s(this.onUpCallbackList);
                    try {
                        for (i.s(); ! (t = i.n()).done;) {
                            var a = t.value;
                            try {
                                a(e, n)
                            } catch(t) {
                                console.error(t)
                            }
                        }
                    } catch(t) {
                        i.e(t)
                    } finally {
                        i.f()
                    }
                }
            },
            {
                key: "onDown",
                value: function(t) {
                    if ("function" != typeof t) throw new Error("callback is not a function");
                    this.onDownCallbackList.indexOf(t) < 0 && this.onDownCallbackList.push(t)
                }
            },
            {
                key: "onUp",
                value: function(t) {
                    if ("function" != typeof t) throw new Error("callback is not a function");
                    this.onUpCallbackList.indexOf(t) < 0 && this.onUpCallbackList.push(t)
                }
            },
            {
                key: "offDown",
                value: function(t) {
                    var e = this.onDownCallbackList.indexOf(t);
                    e >= 0 && this.onDownCallbackList.splice(e, 1)
                }
            },
            {
                key: "offUp",
                value: function(t) {
                    var e = this.onUpCallbackList.indexOf(t);
                    e >= 0 && this.onUpCallbackList.splice(e, 1)
                }
            }]),
            t
        } ();
        function u(t, e) {
            var n;
            if ("undefined" == typeof Symbol || null == t[Symbol.iterator]) {
                if (Array.isArray(t) || (n = function(t, e) {
                    if (!t) return;
                    if ("string" == typeof t) return p(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    "Object" === n && t.constructor && (n = t.constructor.name);
                    if ("Map" === n || "Set" === n) return Array.from(t);
                    if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return p(t, e)
                } (t)) || e && t && "number" == typeof t.length) {
                    n && (t = n);
                    var i = 0,
                    a = function() {};
                    return {
                        s: a,
                        n: function() {
                            return i >= t.length ? {
                                done: !0
                            }: {
                                done: !1,
                                value: t[i++]
                            }
                        },
                        e: function(t) {
                            throw t
                        },
                        f: a
                    }
                }
                throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
            }
            var r, o = !0,
            s = !1;
            return {
                s: function() {
                    n = t[Symbol.iterator]()
                },
                n: function() {
                    var t = n.next();
                    return o = t.done,
                    t
                },
                e: function(t) {
                    s = !0,
                    r = t
                },
                f: function() {
                    try {
                        o || null == n.
                        return || n.
                        return ()
                    } finally {
                        if (s) throw r
                    }
                }
            }
        }
        function p(t, e) { (null == e || e > t.length) && (e = t.length);
            for (var n = 0,
            i = new Array(e); n < e; n++) i[n] = t[n];
            return i
        }
        var d = function() {
            function t() {
                a()(this, t),
                this.timeline = [],
                this.reset()
            }
            return o()(t, [{
                key: "reset",
                value: function() {
                    this.timeline = new Array(99);
                    for (var t = 0; t < this.timeline.length; t += 1) this.timeline[t] = []
                }
            },
            {
                key: "recordKeyDown",
                value: function(t) {
                    var e, n = u(t);
                    try {
                        for (n.s(); ! (e = n.n()).done;) {
                            var i = e.value,
                            a = this.timeline[i],
                            r = a[a.length - 1];
                            r && 1 === r[1] || a.push([Date.now(), 1])
                        }
                    } catch(t) {
                        n.e(t)
                    } finally {
                        n.f()
                    }
                }
            },
            {
                key: "recordKeyUp",
                value: function(t) {
                    var e, n = u(t);
                    try {
                        for (n.s(); ! (e = n.n()).done;) {
                            var i = e.value,
                            a = this.timeline[i],
                            r = a[a.length - 1];
                            r && 0 === r[1] || a.push([Date.now(), 0])
                        }
                    } catch(t) {
                        n.e(t)
                    } finally {
                        n.f()
                    }
                }
            }]),
            t
        } (),
        f = n(78),
        h = new l,
        v = new d;
        h.onDown((function(t) {
            v.recordKeyDown(t),
            Object(f.c)(t)
        })),
        h.onUp((function(t) {
            v.recordKeyUp(t),
            Object(f.b)(t)
        }))
    },
    67 : function(t, e, n) {
        "use strict";
        n.d(e, "f", (function() {
            return r
        })),
        n.d(e, "a", (function() {
            return o
        })),
        n.d(e, "d", (function() {
            return s
        })),
        n.d(e, "e", (function() {
            return c
        })),
        n.d(e, "b", (function() {
            return l
        })),
        n.d(e, "c", (function() {
            return u
        }));
        var i = n(0),
        a = {
            piano: null,
            noteBar: null,
            keyboard: null,
            settingsPanel: null
        },
        r = {
            clientWidth: 300,
            scale: 1,
            leftOst: 0,
            leftScale: 0
        };
        function o() {
            var t = a.piano,
            e = a.noteBar,
            n = a.keyboard,
            i = a.settingsPanel;
            if (t && t.$refs && t.$refs.piano) {
                var o = t.$refs.piano,
                s = o.clientWidth,
                c = o.clientHeight,
                l = s / 2081;
                r.clientWidth = s;
                var u = t.$store.state.cacheConf,
                p = u.scale,
                d = u.left,
                f = (p + 11) / 12;
                u.barScale = 1 / f,
                r.leftScale = 1 - u.barScale;
                var h = f * l;
                r.scale = h;
                var v = r.leftScale * d * 2081;
                n && n.setSize(h, v);
                var b = c - 200 * h - 15;
                e && e.setSize(s, b, h, v),
                i && i.setSize(s, b, h)
            }
        }
        function s(t) {
            a.noteBar = t,
            o()
        }
        function c(t) {
            a.piano = t,
            o()
        }
        function l(t) {
            a.keyboard = t,
            o()
        }
        function u(t) {
            a.settingsPanel = t,
            o()
        }
        i.a.isClient && window.addEventListener("resize", o)
    },
    77 : function(t, e, n) {
        "use strict";
        n.d(e, "b", (function() {
            return p
        })),
        n.d(e, "c", (function() {
            return d
        })),
        n.d(e, "e", (function() {
            return f
        })),
        n.d(e, "d", (function() {
            return h
        })),
        n.d(e, "f", (function() {
            return v
        })),
        n.d(e, "g", (function() {
            return b
        })),
        n.d(e, "a", (function() {
            return m
        }));
        var i = n(64),
        a = !1,
        r = [],
        o = new Array(250).fill(!1),
        s = {
            shiftSharp: !1,
            tabSustain: !1,
            pckey2key: {}
        },
        c = new Array(255).fill(!1);
        function l(t) {
            if (p(t.which, s.shiftSharp && t.shiftKey), c[t.which]) return t.preventDefault(),
            !1
        }
        function u(t) {
            if (d(t.which, s.shiftSharp && t.shiftKey), c[t.which]) return t.preventDefault(),
            !1
        }
        function p(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            if (!1 === o[t]) {
                if (o[t] = !0, 20 === t && s.tabSustain) return void i.a.sustainOn();
                if (16 === t && s.shiftSharp) return void i.a.upAll(1);
                var n = s.pckey2key,
                a = n[t];
                a && (e && a < 88 ? i.a.down([a + 1], !1) : i.a.down([a], !1)),
                r.forEach((function(e) {
                    e(!0, t)
                }))
            }
        }
        function d(t) {
            var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1];
            if (!0 === o[t]) {
                if (o[t] = !1, 20 === t && s.tabSustain) return void i.a.sustainOff();
                if (16 === t && s.shiftSharp) return void i.a.upAll(1);
                var n = s.pckey2key,
                a = n[t];
                a && (e && a < 88 ? i.a.up([a + 1]) : i.a.up([a])),
                r.forEach((function(e) {
                    e(!1, t)
                }))
            }
        }
        function f(t) {
            t instanceof Function && -1 === r.indexOf(t) && r.push(t)
        }
        function h(t) {
            var e = r.indexOf(t);
            e >= 0 && r.splice(e, 1)
        }
        function v(t) {
            a || (a = !0, t && (s = t), document.addEventListener("keydown", l), document.addEventListener("keyup", u))
        }
        function b() {
            a && (a = !1, document.removeEventListener("keydown", l), document.removeEventListener("keyup", u))
        }
        function m() {
            return [[{
                n: "~",
                c: 192
            },
            {
                n: "1",
                c: 49
            },
            {
                n: "2",
                c: 50
            },
            {
                n: "3",
                c: 51
            },
            {
                n: "4",
                c: 52
            },
            {
                n: "5",
                c: 53
            },
            {
                n: "6",
                c: 54
            },
            {
                n: "7",
                c: 55
            },
            {
                n: "8",
                c: 56
            },
            {
                n: "9",
                c: 57
            },
            {
                n: "0",
                c: 48
            },
            {
                n: "-",
                c: 189
            },
            {
                n: "=",
                c: 187
            },
            {
                n: "Backspace",
                c: 8,
                w: 90
            },
            {
                n: "Insert",
                c: 45,
                d: 1,
                m: 20
            },
            {
                n: "Home",
                c: 36,
                d: 1
            },
            {
                n: "PgU",
                c: 33,
                d: 1
            },
            {
                n: "Num",
                c: 144,
                d: 1,
                m: 20
            },
            {
                n: "/",
                c: 111
            },
            {
                n: "*",
                c: 106
            },
            {
                n: "-",
                c: 109
            }], [{
                n: "Tab",
                c: 9,
                w: 72,
                d: 1
            },
            {
                n: "Q",
                c: 81
            },
            {
                n: "W",
                c: 87
            },
            {
                n: "E",
                c: 69
            },
            {
                n: "R",
                c: 82
            },
            {
                n: "T",
                c: 84
            },
            {
                n: "Y",
                c: 89
            },
            {
                n: "U",
                c: 85
            },
            {
                n: "I",
                c: 73
            },
            {
                n: "O",
                c: 79
            },
            {
                n: "P",
                c: 80
            },
            {
                n: "{",
                c: 219
            },
            {
                n: "}",
                c: 221
            },
            {
                n: "\\",
                c: 220,
                w: 68
            },
            {
                n: "Del",
                c: 46,
                d: 1,
                m: 20
            },
            {
                n: "End",
                c: 35,
                d: 1
            },
            {
                n: "PgD",
                c: 34,
                d: 1
            },
            {
                n: "7",
                c: 103,
                m: 20
            },
            {
                n: "8",
                c: 104
            },
            {
                n: "9",
                c: 105
            },
            {
                n: "+",
                c: 107,
                h: 107
            }], [{
                n: "Caps Lock",
                c: 20,
                w: 94,
                d: 1
            },
            {
                n: "A",
                c: 65
            },
            {
                n: "S",
                c: 83
            },
            {
                n: "D",
                c: 68
            },
            {
                n: "F",
                c: 70
            },
            {
                n: "G",
                c: 71
            },
            {
                n: "H",
                c: 72
            },
            {
                n: "J",
                c: 74
            },
            {
                n: "K",
                c: 75
            },
            {
                n: "L",
                c: 76
            },
            {
                n: ";",
                c: 186
            },
            {
                n: '"',
                c: 222
            },
            {
                n: "Enter",
                c: 13,
                w: 103,
                d: 1
            },
            {
                n: "4",
                c: 100,
                m: 211
            },
            {
                n: "5",
                c: 101
            },
            {
                n: "6",
                c: 102
            }], [{
                n: "Shift",
                c: 16,
                w: 116,
                d: 1
            },
            {
                n: "Z",
                c: 90
            },
            {
                n: "X",
                c: 88
            },
            {
                n: "C",
                c: 67
            },
            {
                n: "V",
                c: 86
            },
            {
                n: "B",
                c: 66
            },
            {
                n: "N",
                c: 78
            },
            {
                n: "M",
                c: 77
            },
            {
                n: "<",
                c: 188
            },
            {
                n: ">",
                c: 190
            },
            {
                n: "?",
                c: 191
            },
            {
                n: "Shift",
                c: 16,
                w: 138,
                d: 1
            },
            {
                n: "↑",
                c: 38,
                m: 77
            },
            {
                n: "1",
                c: 97,
                m: 77
            },
            {
                n: "2",
                c: 98
            },
            {
                n: "3",
                c: 99
            },
            {
                n: "Enter",
                c: 13,
                d: 1,
                h: 107
            }], [{
                n: "Ctrl",
                c: 17,
                w: 60,
                d: 1
            },
            {
                n: "Win",
                c: 91,
                w: 60,
                d: 1
            },
            {
                n: "Alt",
                c: 18,
                w: 60,
                d: 1
            },
            {
                n: "Space",
                c: 32,
                w: 429
            },
            {
                n: "Alt",
                c: 18,
                w: 60,
                d: 1
            },
            {
                n: "Opt",
                c: 93,
                w: 60,
                d: 1
            },
            {
                n: "Ctrl",
                c: 17,
                w: 60,
                d: 1
            },
            {
                n: "←",
                c: 37,
                m: 20
            },
            {
                n: "↓",
                c: 40
            },
            {
                n: "→",
                c: 39
            },
            {
                n: "0",
                c: 96,
                w: 107,
                m: 20
            },
            {
                n: ".",
                c: 110
            }]]
        } [[{
            n: "~",
            c: 192
        },
        {
            n: "1",
            c: 49
        },
        {
            n: "2",
            c: 50
        },
        {
            n: "3",
            c: 51
        },
        {
            n: "4",
            c: 52
        },
        {
            n: "5",
            c: 53
        },
        {
            n: "6",
            c: 54
        },
        {
            n: "7",
            c: 55
        },
        {
            n: "8",
            c: 56
        },
        {
            n: "9",
            c: 57
        },
        {
            n: "0",
            c: 48
        },
        {
            n: "-",
            c: 189
        },
        {
            n: "=",
            c: 187
        },
        {
            n: "Backspace",
            c: 8,
            w: 90
        },
        {
            n: "Insert",
            c: 45,
            d: 1,
            m: 20
        },
        {
            n: "Home",
            c: 36,
            d: 1
        },
        {
            n: "PgU",
            c: 33,
            d: 1
        },
        {
            n: "Num",
            c: 144,
            d: 1,
            m: 20
        },
        {
            n: "/",
            c: 111
        },
        {
            n: "*",
            c: 106
        },
        {
            n: "-",
            c: 109
        }], [{
            n: "Tab",
            c: 9,
            w: 72,
            d: 1
        },
        {
            n: "Q",
            c: 81
        },
        {
            n: "W",
            c: 87
        },
        {
            n: "E",
            c: 69
        },
        {
            n: "R",
            c: 82
        },
        {
            n: "T",
            c: 84
        },
        {
            n: "Y",
            c: 89
        },
        {
            n: "U",
            c: 85
        },
        {
            n: "I",
            c: 73
        },
        {
            n: "O",
            c: 79
        },
        {
            n: "P",
            c: 80
        },
        {
            n: "{",
            c: 219
        },
        {
            n: "}",
            c: 221
        },
        {
            n: "\\",
            c: 220,
            w: 68
        },
        {
            n: "Del",
            c: 46,
            d: 1,
            m: 20
        },
        {
            n: "End",
            c: 35,
            d: 1
        },
        {
            n: "PgD",
            c: 34,
            d: 1
        },
        {
            n: "7",
            c: 103,
            m: 20
        },
        {
            n: "8",
            c: 104
        },
        {
            n: "9",
            c: 105
        },
        {
            n: "+",
            c: 107,
            h: 107
        }], [{
            n: "Caps Lock",
            c: 20,
            w: 94,
            d: 1
        },
        {
            n: "A",
            c: 65
        },
        {
            n: "S",
            c: 83
        },
        {
            n: "D",
            c: 68
        },
        {
            n: "F",
            c: 70
        },
        {
            n: "G",
            c: 71
        },
        {
            n: "H",
            c: 72
        },
        {
            n: "J",
            c: 74
        },
        {
            n: "K",
            c: 75
        },
        {
            n: "L",
            c: 76
        },
        {
            n: ";",
            c: 186
        },
        {
            n: '"',
            c: 222
        },
        {
            n: "Enter",
            c: 13,
            w: 103,
            d: 1
        },
        {
            n: "4",
            c: 100,
            m: 211
        },
        {
            n: "5",
            c: 101
        },
        {
            n: "6",
            c: 102
        }], [{
            n: "Shift",
            c: 16,
            w: 116,
            d: 1
        },
        {
            n: "Z",
            c: 90
        },
        {
            n: "X",
            c: 88
        },
        {
            n: "C",
            c: 67
        },
        {
            n: "V",
            c: 86
        },
        {
            n: "B",
            c: 66
        },
        {
            n: "N",
            c: 78
        },
        {
            n: "M",
            c: 77
        },
        {
            n: "<",
            c: 188
        },
        {
            n: ">",
            c: 190
        },
        {
            n: "?",
            c: 191
        },
        {
            n: "Shift",
            c: 16,
            w: 138,
            d: 1
        },
        {
            n: "↑",
            c: 38,
            m: 77
        },
        {
            n: "1",
            c: 97,
            m: 77
        },
        {
            n: "2",
            c: 98
        },
        {
            n: "3",
            c: 99
        },
        {
            n: "Enter",
            c: 13,
            d: 1,
            h: 107
        }], [{
            n: "Ctrl",
            c: 17,
            w: 60,
            d: 1
        },
        {
            n: "Win",
            c: 91,
            w: 60,
            d: 1
        },
        {
            n: "Alt",
            c: 18,
            w: 60,
            d: 1
        },
        {
            n: "Space",
            c: 32,
            w: 429
        },
        {
            n: "Alt",
            c: 18,
            w: 60,
            d: 1
        },
        {
            n: "Opt",
            c: 93,
            w: 60,
            d: 1
        },
        {
            n: "Ctrl",
            c: 17,
            w: 60,
            d: 1
        },
        {
            n: "←",
            c: 37,
            m: 20
        },
        {
            n: "↓",
            c: 40
        },
        {
            n: "→",
            c: 39
        },
        {
            n: "0",
            c: 96,
            w: 107,
            m: 20
        },
        {
            n: ".",
            c: 110
        }]].forEach((function(t) {
            t.forEach((function(t) {
                1 !== t.d && (c[t.c] = !0)
            }))
        }))
    },
    78 : function(t, e, n) {
        "use strict";
        n.d(e, "a", (function() {
            return S
        })),
        n.d(e, "e", (function() {
            return j
        })),
        n.d(e, "c", (function() {
            return M
        })),
        n.d(e, "b", (function() {
            return E
        })),
        n.d(e, "d", (function() {
            return L
        }));
        for (var i = {
            Soundfont: {},
            players: {},
            defaultPlayer: null
        },
        a = new Array(89), r = ["C", "Db", "D", "Eb", "E", "F", "Gb", "G", "Ab", "A", "Bb", "B"], o = 1, s = 0; o < 89; o += 1) {
            var c = (o + 12 - 4) % 12;
            0 === c && (s += 1);
            var l = "".concat(r[c]).concat(s);
            a[o] = l
        }
        var u = n(2),
        p = n.n(u),
        d = n(3),
        f = n.n(d),
        h = n(10),
        v = n.n(h);
        function b() {
            var t = new Audio,
            e = t.canPlayType("audio/mpeg"),
            n = t.canPlayType('audio/ogg; codecs="vorbis"');
            return "probably" === n ? "ogg": "probably" === e ? "mp3": "maybe" === n ? "ogg": "mp3"
        }
        var m = n(61),
        g = n.n(m),
        y = n(62),
        w = n.n(y),
        x = {
            _keyStr: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
            decodeArrayBuffer: function(t) {
                var e = Math.ceil(3 * t.length / 4),
                n = new ArrayBuffer(e);
                return this.decode(t, n),
                n
            },
            decode: function(t, e) {
                var n, i, a, r, o, s, c, l = this._keyStr.indexOf(t.charAt(t.length - 1)),
                u = this._keyStr.indexOf(t.charAt(t.length - 1)),
                p = Math.ceil(3 * t.length / 4);
                64 == l && p--,
                64 == u && p--;
                var d = 0,
                f = 0;
                for (n = e ? new Uint8Array(e) : new Uint8Array(p), t = t.replace(/[^A-Za-z0-9+/ = ] /, ""),
                d = 0;
                d < p;
                d += 3) i = this._keyStr.indexOf(t.charAt(f++)) << 2 | (o = this._keyStr.indexOf(t.charAt(f++))) >> 4,
                a = (15 & o) << 4 | (s = this._keyStr.indexOf(t.charAt(f++))) >> 2,
                r = (3 & s) << 6 | (c = this._keyStr.indexOf(t.charAt(f++))),
                n[d] = i,
                64 != s && (n[d + 1] = a),
                64 != c && (n[d + 2] = r);
                return n
            }
        },
        k = function() {
            function t(e) {
                g()(this, t),
                this.instrument = e,
                this.sources = new Array(89).fill(!1),
                this.buffers = new Array(89).fill(!1),
                this.sourceBufferInited = !1,
                this.prepareState = 0,
                this.endGradualTime = .5
            }
            var e, n;
            return w()(t, [{
                key: "prepare",
                value: (n = f()(p.a.mark((function t() {
                    return p.a.wrap((function(t) {
                        for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (0 === this.prepareState) {
                                t.next = 2;
                                break
                            }
                            return t.abrupt("return");
                        case 2:
                            return this.prepareState = 1,
                            this.ctx = new(window.AudioContext || window.webkitAudioContext),
                            t.prev = 4,
                            t.next = 7,
                            this.initSoureBuffer();
                        case 7:
                            this.prepareState = 2,
                            t.next = 14;
                            break;
                        case 10:
                            t.prev = 10,
                            t.t0 = t.
                            catch(4),
                            this.prepareState = 0,
                            console.error(t.t0);
                        case 14:
                        case "end":
                            return t.stop()
                        }
                    }), t, this, [[4, 10]])
                }))),
                function() {
                    return n.apply(this, arguments)
                })
            },
            {
                key: "initSoureBuffer",
                value: (e = f()(p.a.mark((function t() {
                    var e, n, r, o, s, c = this;
                    return p.a.wrap((function(t) {
                        for (;;) switch (t.prev = t.next) {
                        case 0:
                            if (e = i.Soundfont[this.instrument]) {
                                t.next = 3;
                                break
                            }
                            throw new Error("it's not exists soundfound of named ".concat(this.instrument));
                        case 3:
                            for (n = this.ctx, r = [], o = function(t) {
                                var i, o;
                                r.push((i = a[t], o = e[i], void new Promise((function(e, i) {
                                    if (o) {
                                        var a = o.split(",")[1],
                                        r = x.decodeArrayBuffer(a);
                                        new Promise((function(t, e) {
                                            n.decodeAudioData(r, t, e)
                                        })).then((function(n) {
                                            c.buffers[t] = n,
                                            e()
                                        })).
                                        catch(i)
                                    }
                                }))))
                            },
                            s = 1; s < 89; s++) o(s);
                            return t.next = 9,
                            Promise.all(r);
                        case 9:
                            this.sourceBufferInited = !0;
                        case 10:
                        case "end":
                            return t.stop()
                        }
                    }), t, this)
                }))),
                function() {
                    return e.apply(this, arguments)
                })
            },
            {
                key: "setEndGradualTime",
                value: function(t) {
                    this.endGradualTime = t > 0 && t <= 5 ? t: 0
                }
            },
            {
                key: "noteOn",
                value: function(t) {
                    if (this.buffers[t]) {
                        this.sources[t] && this.noteOff(t);
                        var e = this.buffers[t],
                        n = this.ctx.createBufferSource();
                        n.buffer = e;
                        var i = this.ctx.createGain();
                        i.connect(this.ctx.destination),
                        i.gain.value = 0,
                        n.connect(i),
                        n.start(),
                        i.gain.linearRampToValueAtTime(3, this.ctx.currentTime + .02),
                        this.sources[t] = {
                            source: n,
                            gainNode: i
                        }
                    } else this.prepare()
                }
            },
            {
                key: "noteOff",
                value: function(t) {
                    if (this.sources[t]) {
                        var e = this.sources[t],
                        n = e.source,
                        i = e.gainNode.gain;
                        i.linearRampToValueAtTime(i.value, this.ctx.currentTime),
                        i.linearRampToValueAtTime(0, this.ctx.currentTime + .1 + this.endGradualTime),
                        setTimeout((function() {
                            n.disconnect()
                        }), 1e3 * (.11 + this.endGradualTime)),
                        this.sources[t] = null
                    }
                }
            },
            {
                key: "stopAllNotes",
                value: function() {}
            }]),
            t
        } ();
        function O(t) {
            var e = new k(t);
            i.players[t] = e,
            i.defaultPlayer = e
        }
        function T(t) {
            window.MIDI = i,
            window.eval(t),
            delete window.MIDI
        }
        function C() {
            return (C = f()(p.a.mark((function t(e) {
                var n, i, a, r, o;
                return p.a.wrap((function(t) {
                    for (;;) switch (t.prev = t.next) {
                    case 0:
                        return n = e.soundfontUrl,
                        i = e.instrument,
                        a = e.onProgress,
                        r = b(),
                        o = "".concat(n, "/").concat(i, "-").concat(r, ".js"),
                        t.next = 5,
                        v.a.get(o, {
                            onDownloadProgress: function(t) {
                                a(r, t.loaded)
                            }
                        });
                    case 5:
                        return T(t.sent.data),
                        O(i),
                        t.abrupt("return", "ok");
                    case 9:
                    case "end":
                        return t.stop()
                    }
                }), t)
            })))).apply(this, arguments)
        }
        var S = function(t) {
            return C.apply(this, arguments)
        };
        function j() {
            i.defaultPlayer && i.defaultPlayer.prepare && i.defaultPlayer.prepare()
        }
        function M(t) {
            i.defaultPlayer && t.forEach((function(t) {
                i.defaultPlayer.noteOn(t)
            }))
        }
        function E(t) {
            i.defaultPlayer && t.forEach((function(t) {
                i.defaultPlayer.noteOff(t)
            }))
        }
        function L(t) {
            i.defaultPlayer && i.defaultPlayer.setEndGradualTime(t)
        }
    },
    84 : function(t, e, n) {
        t.exports = n.p + "assets/img/pianobg.77851d4.jpg"
    }
}]);